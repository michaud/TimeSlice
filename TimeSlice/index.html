<!doctype html>
<html>
<head>
	<title>learningthree.js boiler plate for three.js</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<!-- Shaders -->
	<script type="x-shader/x-vertex" id="vertexshader">
		
		// switch on high precision floats
		#ifdef GL_ES
		precision highp float;
		#endif
		
		uniform float amplitude;
		attribute float displacement;
		varying vec3 vNormal;

		void main() {

			vNormal = normal;
			
			// multiply our displacement by the
			// amplitude. The amp will get animated
			// so we'll have animated displacement
			vec3 newPosition = position + normal * vec3(displacement * amplitude);

			gl_Position = projectionMatrix *
						  modelViewMatrix *
						  vec4(newPosition,1.0);
		}
	</script>
	
	<script type="x-shader/x-fragment" id="fragmentshader">
	
		#ifdef GL_ES
		precision highp float;
		#endif
		
		// same name and type as VS
		varying vec3 vNormal;

		void main() {

			// calc the dot product and clamp
			// 0 -> 1 rather than -1 -> 1
			vec3 light = vec3(0.5,0.2,1.0);
			
			// ensure it's normalized
			light = normalize(light);
			
			float dProd = max(0.0, dot(vNormal, light));
			
			float red = 1.0;
			float alpha = 0.1;
			// feed into our frag colour
			if(vNormal.x > 0.5 && vNormal.y > 0.5 && vNormal.x < 0.6 && vNormal.y < 0.6 && vNormal.z > 0.5 && vNormal.z < 0.6)
			{
				red = 0.0;
				alpha = 1.0;
			}
			gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);
			
		}
	
	</script>
	
	<!-- End Shaders -->

	<link href="css/main.css" rel="stylesheet" />
</head>
<body>
	<!-- three.js container -->
	<div id="container">
	</div>
	<!-- info on screen display -->
	<div id="info">
		<div class="bottom" id="inlineDoc">
			- <i>p</i> for screenshot</div>
	</div>
	<div id="ControlPanel">
		<video id="monitor" width="217" height="163" autoplay>
		</video>
		<canvas id="textureMonitor" width="40" height="30"></canvas>
		<fieldset class="CameraManipulation">
			<legend>Camera</legend>
			<div class="toggleButton">
			</div>
			<div class="controls">
				<label for="CamPosX"><span>pos x:</span><input id="CamPosX" name="CamPosX" type="range" min="-2000" max="2000" /></label>
				<label for="CamPosY"><span>pos y:</span><input id="CamPosY" name="CamPosY" type="range" min="-2000" max="2000" /></label>
				<label for="CamPosZ"><span>pos z:</span><input id="CamPosZ" name="CamPosZ" type="range" min="-2000" max="2000" /></label>
				<label for="CamRotX"><span>rot x:</span><input id="CamRotX" name="CamRotX" type="range" min="-100" max="100" /></label>
				<label for="CamRotY"><span>rot y:</span><input id="CamRotY" name="CamRotY" type="range" min="-100" max="100" /></label>
				<label for="CamRotX"><span>rot z:</span><input id="CamRotZ" name="CamRotZ" type="range" min="-100" max="100" /></label>
				<label for="CamAtX"><span>at x:</span><input id="CamAtX" name="CamAtX" type="range" min="-2000" max="2000" /></label>
				<label for="CamAtY"><span>at y:</span><input id="CamAtY" name="CamAtY" type="range" min="-2000" max="2000" /></label>
				<label for="CamAtZ"><span>at z:</span><input id="CamAtZ" name="CamAtZ" type="range" min="-2000" max="2000" /></label>
			</div>
		</fieldset>
		<fieldset class="SliceManipulation">
			<legend>Slice</legend>
			<div class="toggleButton"></div>
			<div class="controls">
				<label for="CamPosX"><span>pos x:</span><input id="Range1" name="CamPosX" type="range" min="-2000" max="2000" /></label>
				<label for="CamPosY"><span>pos y:</span><input id="Range2" name="CamPosY" type="range" min="-2000" max="2000" /></label>
				<label for="CamPosZ"><span>pos z:</span><input id="Range3" name="CamPosZ" type="range" min="-2000" max="2000" /></label>
				<label for="CamRotX"><span>rot x:</span><input id="Range4" name="CamRotX" type="range" min="-100" max="100" /></label>
				<label for="CamRotY"><span>rot y:</span><input id="Range5" name="CamRotY" type="range" min="-100" max="100" /></label>
				<label for="CamRotX"><span>rot z:</span><input id="Range6" name="CamRotZ" type="range" min="-100" max="100" /></label>
			</div>
		</fieldset>
		<fieldset class="FrameManipulation">
			<legend>Frame</legend>
			<div class="toggleButton"></div>
			<div class="controls">
				<label for="FrameDistance"><span>distance:</span><input id="FrameDistance" name="FrameDistance" type="range" min="0" max="400" step="0.1" /></label>
				<label for="FrameTransparency"><span>transp:</span><input id="FrameTransparency" name="FrameTransparency" type="range" min="0" max="1" step="0.1" /></label>
			</div>
		</fieldset>
	</div>
	<script src="js/libs/jquery-1.7.1.min.js"></script>
	<script src="vendor/three.js/Three.js" type="text/javascript"></script>
	<script src="vendor/three.js/Detector.js" type="text/javascript"></script>
	<script src="vendor/three.js/Stats.js" type="text/javascript"></script>
	<script src="vendor/three.js/ShaderExtras.js" type="text/javascript"></script>
	<script src="vendor/threex.dragpancontrols.js" type="text/javascript"></script>
	<script src="vendor/threex/THREEx.WindowResize.js" type="text/javascript"></script>
	<script src="vendor/threex/THREEx.screenshot.js" type="text/javascript"></script>
	<script src="vendor/threex/THREEx.FullScreen.js" type="text/javascript"></script>
	<script src="js/TimeSlice/TimeSlice.js" type="text/javascript"></script>
	<script src="js/TimeSlice/VideoFrameSource.js" type="text/javascript"></script>
	<script src="js/TimeSlice/appElements.js" type="text/javascript"></script>
	<script src="js/TimeSlice/CameraManipulation.js" type="text/javascript"></script>
	<script src="js/TimeSlice/ControlPanel.js" type="text/javascript"></script>
	<script src="js/TimeSlice/FrameManipulation.js" type="text/javascript"></script>
	<script src="js/TimeSlice/app.js" type="text/javascript"></script>
</body>
</html>
